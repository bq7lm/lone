{% extends "base.html" %}
{% block main_content %}

<!-- Заголовок с иконкой -->
<div class="section-header" style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
    <img src="{{ url_for('static', filename='lone-icon.png') }}" alt="Чаты" style="width: 28px; height: 28px;">
    <h2 class="section-title" style="margin: 0; font-size: 20px;">Lone</h2>
</div>

<hr style="width: 100%; height: 1px; background-color: #444; border: none; margin: 0 0 20px 0;">

<!-- Блок для пустого чата -->
{% if users|length == 0 %}
<div class="chat-empty-wrapper" style="padding: 20px; text-align: center; color: #ccc; font-size: 14px;">
    <span>Нажмите 
        <img src="{{ url_for('static', filename='magnifying_glass.png') }}" 
             alt="Поиск" 
             style="width:16px; height:16px; vertical-align:middle; margin:0 4px;">
        чтобы найти друзей
    </span>
</div>
{% endif %}

<!-- Список чатов -->
<div class="chat-list" style="display: flex; flex-direction: column; gap: 10px;">
    {% for user in users %}
    <a href="{{ url_for('chat', user_id=user[0]) }}" class="chat-item" style="display:flex; align-items:center; gap:10px; padding:10px; border-radius:8px; text-decoration:none; color:white; background:#111;">
        <div class="avatar">
            <img src="{{ url_for('static', filename='avatars/' + user[2]) }}" alt="{{ user[1] }}" style="width:45px; height:45px; border-radius:50%; border:2px solid red; object-fit:cover;">
        </div>
        <div class="chat-info" style="flex:1;">
            <div class="chat-name" style="font-weight:bold;">{{ user[1] }}</div>
            <div class="chat-preview" style="font-size:12px; opacity:0.6;">Нажмите чтобы открыть диалог</div>
        </div>
    </a>
    {% endfor %}
</div>

{% endblock %}
